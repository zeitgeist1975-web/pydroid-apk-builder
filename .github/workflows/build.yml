name: Build APK

on:
  push:
    branches: [ main ]

jobs:
  build:
    runs-on: ubuntu-latest
    container:
      [span_5](start_span)[span_6](start_span)image: kivy/buildozer:latest # 모든 SDK/NDK가 포함된 이미지[span_5](end_span)[span_6](end_span)

    steps:
      - uses: actions/checkout@v3

      - name: Build APK (debug)
        run: |
          # [span_7](start_span)Cython 및 PATH 설정이 이미지 내에 완료되어 있음[span_7](end_span)
          buildozer -v android debug

      - name: Upload APK
        [span_8](start_span)uses: actions/upload-artifact@v4 # v3 대신 v4 사용 권장[span_8](end_span)
        with:
          name: apk
          path: bin/*.apk
